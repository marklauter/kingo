# comments are prefixed with #
# rewrite set operators:
#   | = union operator
#   & = intersection operator
#   ! = exclusion operator
# rewrite rules:
#   directly assigned subjects = direct | dir
#   ComputedSubjectSetRewrite = computed <identifier> | cmp <identifier>
#   TupleToSubjectSetRewrite = tuple (<identifier>, <identifier>) | tpl (<identifier>, <identifier>)

# namespace name
namespace file

# empty relationship - implicit direct
relation owner

# relationship with union rewrite
relation editor (direct | computed owner)

# relationship with union and exclusion rewrites
relation viewer ((direct | computed editor | tuple (parent, viewer)) ! computed banned)

# relationship with intersection rewrite
relation auditor (direct & computed viewer)

# empty relationship - implicit direct
relation banned

# second ns defined within same document
/n folder
/r owner 
/r viewer 
    (
        (/d | /c editor | /t (parent, viewer)) 
        ! /c banned
    )
/r banned