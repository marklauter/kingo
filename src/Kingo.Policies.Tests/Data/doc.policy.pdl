# comments are prefixed with #
# rewrite set operators:
#   | = union operator
#   & = intersection operator
#   ! = exclusion operator
# rewrite rules:
#   directly assigned subjects = this
#   ComputedSubjectSetRewrite = computed <identifier> | /c <identifier>
#   TupleToSubjectSetRewrite = tuple (<identifier>, <identifier>) | /t (<identifier>, <identifier>)

# namespace name
namespace file

# empty relationship - implicit this
relation owner

# relationship with union rewrite
relation editor (this | computed owner)

# relationship with union and exclusion rewrites
relation viewer ((this | computed editor | tuple (parent, viewer)) ! computed banned)

# relationship with intersection rewrite
relation auditor (this & computed viewer)

# empty relationship - implicit this
relation banned

# second ns defined within same document
/n folder
/r owner 
/r viewer 
    (
        (this | /t (parent, viewer)) 
        ! /c banned
    )
/r banned